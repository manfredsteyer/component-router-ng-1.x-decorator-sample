{"version":3,"sources":["passagier-edit/passagier-edit.js"],"names":[],"mappings":"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","file":"passagier-edit/passagier-edit.js","sourcesContent":["import { Component } from 'decorators/ng-decorators';\r\n\r\n@Component()\r\nexport class PassagierEditController {\r\n\r\n    constructor($http, $log, baseUrl, $window, $routeParams) {\r\n        this.$http = $http;\r\n        this.$log = $log;\r\n        this.baseUrl = baseUrl;\r\n        this.$window = $window;\r\n        \r\n        this.exitWarning = {\r\n            show: false  \r\n        }\r\n        \r\n        this.load($routeParams.id);\r\n    }\r\n\r\n    canActivate() {\r\n        this.$log.info(\"canActivate\"); \r\n        return true;\r\n    }\r\n    \r\n    activate($scope) {\r\n        this.$scope = $scope;\r\n        this.$log.info(\"activate\");    \r\n        return true;\r\n    }\r\n    \r\n    canDeactivate($q) {\r\n        \r\n        \r\n        if(!this.$scope.form.$dirty) return true;\r\n        \r\n        return new $q((resolve, reject) => {\r\n            this.exitWarning = {\r\n                show: true,\r\n                resolve: resolve,\r\n                reject: reject\r\n            }\r\n        }).finally(() => { \r\n            this.exitWarning.show = false;\r\n        });\r\n        \r\n        \r\n       \r\n        \r\n    }\r\n    \r\n    deactivate() {\r\n        this.$log.info(\"deactivate\");   \r\n        return true;\r\n    }\r\n    \r\n    load(id) {\r\n        var that = this;\r\n\r\n        var params = {};\r\n        params.pNummer = id;\r\n\r\n        this.$http\r\n            .get(that.baseUrl + \"/api/passagier\", { params: params })\r\n            .then((result) => {\r\n\r\n                that.passagier = result.data;\r\n\r\n            }).catch((p) => {\r\n            \r\n                that.message = \"Beim Laden der Daten ist ein Fehler aufgetreten\";\r\n                that.$log.error(\"Fehler beim Laden von Passagieren\");\r\n                that.$log.error(p.data.message);\r\n                that.$log.error(p.data.status);\r\n            \r\n            });\r\n    }\r\n\r\n    save() {\r\n        var that = this;\r\n\r\n        this\r\n            .$http\r\n            .post(that.baseUrl + \"/api/passagier\", this.passagier)\r\n            .then((result) => {\r\n                that.message = \"Passagier wurde gespeichert!\";\r\n                that.$scope.form.$setDirty(false);\r\n            })\r\n            .catch((p) => {\r\n                that.message = \"Beim Speichern der Daten ist ein Fehler aufgetreten: \"  + p.data;\r\n\r\n                that.$log.error(\"Fehler beim Speichern von Passagieren: \");\r\n                that.$log.error(p.data);\r\n                that.$log.error(p.status);\r\n\r\n            });\r\n\r\n    }\r\n\r\n    clearMessage() {\r\n        this.message = null;\r\n    }\r\n\r\n}"],"sourceRoot":"/source/"}